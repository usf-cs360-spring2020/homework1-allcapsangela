<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <style> /* set the CSS */

    .bar { fill: steelblue; }

    .grid line {
      stroke: lightgrey;
      stroke-opacity: 0.7;
      shape-rendering: crispEdges;
    }

    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TODO: Change title -->
    <title>CS 560: Homework 1</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="stylesheet.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  </head>

  <body>

  <!-- Page header -->
  <!-- https://bulma.io/documentation/layout/hero/ -->
  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <!-- TODO: Change title -->
        <h1 class="title">Data Viz: Homework 1</h1>
        <!-- TODO: Change subtitle -->
        <h2 class="subtitle">by Angela Chen</h2>
      </div>
    </div>
  </section>
  <!-- End page header -->

  <!-- Page navigation -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!-- TODO: Change link to repository homepage if needed -->
        <!-- TODO: Change which navbar-item is-active if needed -->
        <a class="navbar-item is-active" href="index.html">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Home</span>
        </a>

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <a class="navbar-item" href="#data" title="Data">
            <span class="icon"><i class="fas fa-table"></i></span>
            <span>Data</span>
          </a>

          <!-- TODO: Modify or remove dropdown -->
          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Visualizations
            </a>

            <div class="navbar-dropdown">
              <a class="navbar-item" href="#chart1">
                <span>Bar Graph: 2018 Region</span>
              </a>
              <a class="navbar-item" href="#chart2">
                <span>Pie Chart: 2018 Region</span>
              </a>
              <a class="navbar-item" href="#chart3">
                <span>Bar Chart: 2018 International Passengers</span>
              </a>
            </div>
          </div>
        </div>

        <!-- Right navbar items -->
        <div class="navbar-end">
          <!-- TODO: Update as needed -->
          <a class="navbar-item" href="#grade" title="About">
            <span class="icon"><i class="fas fa-tasks"></i></span>
            <span>Grade</span>
          </a>

          <a class="navbar-item" href="#about" title="About">
            <span class="icon"><i class="fas fa-info-circle"></i></span>
            <span>About</span>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <!-- End page navigation -->

  <section class="section">
    <div class="container">
      <!-- Begin page content -->
      <div class="content">
        <h1 class="title">
          Homework 1: 3 Views of SFO in 2018
        </h1>
        <p class="subtitle">
          Passengers by region
        </p>

        <p>For Homework 1, I created 3 visualizations showing passenger activity at San Francisco International in 2018: a bar graph and a pie chart showing regional origin of passengers, and a stacked bar graph showing national/international status.</p>

        <h2 id="data">Data</h2>

        <p>The data is about monthly passenger activity at San Francisco International Airport, separated by airline. The full dataset is available online <a href="https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg/data">here</a>. It's updated quarterly, and has over 21.k rows (per the assignment spec) of data dating back to 2005.</p>

        <blockquote>
          <p>
            "This data is made available under the Public Domain Dedication and License v1.0 whose full text can be found at: <a href="http://www.opendatacommons.org/licenses/pddl/1.0/">www.opendatacommons.org/licenses/pddl/1.0/</a>"
          </p>
          <cite>See the Air Traffic Passenger Statistics <a href="https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg/data#About">About</a>.</cite>
        </blockquote>

        <p>The original dataset has columns for Activity Period, Operating Airline (& IATA Code), GEO Summary, GEO Region, Activity Type, Price Category, Terminal, Boarding Area, and Passenger Count. For the purposes of this assignment, I focused on Activity Period, GEO Summary and Region, and Passenger Count.</p>

        <ol>
          <li><strong>Activity Period:</strong> "The year and month at which passenger activity took place", displayed as a six-digit numerical code "with the four-digit year preceding a two-digit month". Example: 200507</li>

          <li><strong>GEO Summary:</strong> Domestic/International (on a nonstop hop)</li>

          <li><strong>GEO Region:</strong> Provides more detailed information of GEO Summary. Possible values are US, Africa, Asia, Australia/Oceania, Canada, Caribbean, Central America, Europe, Mexico, Middle East, South America</li>

          <li><strong>Passenger Count:</strong> The number of passengers who departed or arrived that month.</li>
        </ol>

        <h3 id="wrangling">Wrangling</h3>

        <p>In general, I rolled up data by certain categories (either GEO Summary or GEO Region), summed up passenger count accordingly, and filtered on Activity Period to get 2018 data only. More specific wrangling will follow each visualization.

        <h2 id="visualizations">Visualizations</h2>

        <h3 id="chart1">Chart #1</h3>
        <img src="linegraph.png" height="500" width="960">

        <h3 id="chart2">Chart #2</h3>

        <h4>Wrangling</h4>
        <p>I filtered on Activity Period to get 2018 data only, and rolled up on GEO Region, summing passenger counts (I did not wrangle to normalize days of the month or to account for travellers in transit). Sorting by alphabetical order on region, as compared to sorting by passenger count, conveniently arranged the categories in an order that allowed enough space for the labels to be placed more or less neatly. I took the values from the CSV and pasted them directly into the HTML file, since I was having some issues with data scopes on the code I used as reference.
        </p>
        <h4>Tableau Prototype</h4>
        <img src="tableau-piechart.png" height="500" width="960">
        <h4>D3 Chart</h4>
        <div id="chartA" style="height:500px; width:960px;"></div>
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="piechart.js">    </script>
        <h4>Conclusions</h4>
        <p>There was no activity from Africa or South America (that made the cutoff when the data was rolled up), but this makes sense in that one would expect passengers to first transfer through other airports, considering geography. Despite the fact that SFO is an international airport, there's much more US traffic than international traffic. I was surprised that there's more traffic from Asia than our neighbors Canada or Mexico, but this must be another result of geography; possibly the majority of Canadian or Mexican travellers prefer to transfer through closer airports like Seattle or Los Angeles first.</p>

        <h3 id="chart3"> Chart #3</h3>
        <h4>Wrangling</h4>
        <p>This is the same dataset as used in the pie chart, but with the value for the US removed, so we could better focus on international travel. Again, the data was hardcoded into bargraph.js as JSON (a casualty of adapting the example I used from d3 v4 to v5).</p>
        <h4>Tableau Prototype</h4>
        <img src="InternationalBarChart.png" height="500" width="960">
        <h4>D3 Chart</h4>
        <div id="chartB" style="height:500px; width:960px;"></div>
        <script src="bargraph.js">  </script>
        <h4>Conclusions</h4>
        <p>As this is the mostly the same data from the previous visualization, similar conclusions can be drawn (re the lack of traffic from Africa or South America, etc.); however, the absence of US traffic allows us to appreciate the proportions of international travel. I remain surprised that Canadian and Mexican travel combined do not equal even European travel, let alone Asian travel.</p>
        <span class="heading">Acknowledgements</span>

        <p>
          <a href="https://travishorn.com/self-contained-d3-pie-chart-function-e5b7422be676">Pie Chart Reference</a>
        </p>
        <p><a href="https://bl.ocks.org/d3noob/bdf28027e0ce70bd132edc64f1dd7ea4">Bar Graph Reference (modified for v5)</a></p>
        <p><a href="https://bl.ocks.org/mbostock/9764126">Axis Tick marks</a></p>
        <p><a href="https://bl.ocks.org/d3noob/c506ac45617cf9ed39337f99f8511218">Grid lines</a></p>
        <p class="is-6">
          <em>Thanks to Prof. Sophie Engle for her assignment to do something with the visualization.</em>
        </p>

        <h2 id="grade">Grade</h2>

        I aimed for an A grade with three Tableau prototypes and two D3 visualizations, but I freely recognize there's plenty of room for improvement.

        <h2 id="about">About</h2>

        <!-- Profile box -->
        <!-- https://bulma.io/documentation/layout/media-object/ -->
        <article class="media">
          <!-- TODO: Replace with profile photo -->
          <figure class="media-left">
            <p class="image is-128x128"><img class="is-rounded" src="profile.png"></p>
          </figure>

          <div class="media-content">
            <div class="content">
              <!-- TODO: Replace with contact information -->
              <p>
                <strong>Angela Chen</strong><br/>
                CS Masters Student, <a href="https://www.usfca.edu/">University of San Francisco</a><br/>
                <em>Expected Graduation: Spring 2020</em><br/>
                <i class="fas fa-envelope"></i> <a href="mailto:achen35@dons.usfca.edu">achen35@dons.usfca.edu</a>
              </p>

              <!-- TODO: Replace with brief biography -->
              <p>
                I live on the Peninsula, and I love dogs and bubble tea! (Not dogs <em>in</em> bubble tea). This is my first front-end class. I finally found the option to change the theme.
              </p>

              <!-- TODO: Replace or remove tags -->
              <!-- https://bulma.io/documentation/elements/tag/ -->
              <div class="heading">Skills</div>

              <div class="tags">
                <span class="tag">Procrastinating</span>
                <span class="tag">Petting Dogs</span>
                <span class="tag">Eating Bread</span>
              </div>
            </div>
          </div>
        </article>
        <!-- End profile box -->

      </div>
      <!-- End page content -->
    </div>
  </section>

  <!-- Page footer -->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer">
    <div class="content has-text-centered is-size-7">
      <p>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span class="has-text-weight-medium">Back to Top</span>
        </a>
      </p>

      <p>
        <!-- TODO: Change to link to your Github repository -->
        <a href="https://github.com/usf-cs360-spring2020/template-bulma" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  <!-- Mobile menu responsiveness -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
  </script>
  <!-- End mobile menu responsiveness -->
  </body>

</html>
